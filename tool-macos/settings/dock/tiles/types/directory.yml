{%- set arrangement_opts = {
    'name': 1,
    'added': 2,
    'modified': 3,
    'created': 4,
    'kind': 5
    } -%}

{%- set display_opts = {
    'stack': 0,
    'folder': 1
    } -%}

{%- set show_opts = {
    'auto': 0,
    'fan': 1,
    'grid': 2,
    'list': 3
    } -%}

{%- set label = item.get('label') -%}
{%- if not label -%}
  {%- set normalized = item.path | regex_replace('/$', '') -%}
  {%- set label = normalized.split('/')[-1] -%}
{%- endif -%}

GUID: {{ range(10000, 99999) | random }}{{ range(10000, 99999) | random }}
tile-data:
  arrangement: {{ arrangement_opts[item.get('arrangement', 'added')] }}
  directory: 1
  displayas: {{ display_opts[item.get('displayas', 'stack')] }}
  file-data:
    _CFURLString: {{ item.path }}
    _CFURLStringType': 0
  file-label: '{{ label }}'
  file-type: 2
  showas: {{ show_opts[item.get('showas', 'auto')] }}
tile-type: directory-tile
